{"ast":null,"code":"import{Button}from\"@chakra-ui/button\";import{FormControl,FormLabel}from\"@chakra-ui/form-control\";import{Input,InputGroup,InputRightElement}from\"@chakra-ui/input\";import{VStack}from\"@chakra-ui/layout\";import{useState}from\"react\";import axios from\"axios\";import{useToast}from\"@chakra-ui/react\";import{useHistory}from\"react-router-dom\";import{ChatState}from\"../../Context/ChatProvider\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[show,setShow]=useState(false);const handleClick=()=>setShow(!show);const toast=useToast();const[email,setEmail]=useState();const[password,setPassword]=useState();const[loading,setLoading]=useState(false);const history=useHistory();const{setUser}=ChatState();const submitHandler=async()=>{setLoading(true);if(!email||!password){toast({title:\"Please Fill all the Feilds\",status:\"warning\",duration:5000,isClosable:true,position:\"bottom\"});setLoading(false);return;}try{const config={headers:{\"Content-type\":\"application/json\"}};const{data}=await axios.post(\"/api/user/login\",{email,password},config);toast({title:\"Login Successful\",status:\"success\",duration:5000,isClosable:true,position:\"bottom\"});setUser(data);localStorage.setItem(\"userInfo\",JSON.stringify(data));setLoading(false);history.push(\"/chats\");}catch(error){toast({title:\"Error Occured!\",description:error.response.data.message,status:\"error\",duration:5000,isClosable:true,position:\"bottom\"});setLoading(false);}};return/*#__PURE__*/_jsxs(VStack,{spacing:\"10px\",children:[/*#__PURE__*/_jsxs(FormControl,{id:\"email\",isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Email Address\"}),/*#__PURE__*/_jsx(Input,{value:email,type:\"email\",placeholder:\"Enter Your Email Address\",onChange:e=>setEmail(e.target.value)})]}),/*#__PURE__*/_jsxs(FormControl,{id:\"password\",isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Password\"}),/*#__PURE__*/_jsxs(InputGroup,{size:\"md\",children:[/*#__PURE__*/_jsx(Input,{value:password,onChange:e=>setPassword(e.target.value),type:show?\"text\":\"password\",placeholder:\"Enter password\"}),/*#__PURE__*/_jsx(InputRightElement,{width:\"4.5rem\",children:/*#__PURE__*/_jsx(Button,{h:\"1.75rem\",size:\"sm\",onClick:handleClick,children:show?\"Hide\":\"Show\"})})]})]}),/*#__PURE__*/_jsx(Button,{colorScheme:\"blue\",width:\"100%\",style:{marginTop:15},onClick:submitHandler,isLoading:loading,children:\"Login\"}),/*#__PURE__*/_jsx(Button,{variant:\"solid\",colorScheme:\"red\",width:\"100%\",onClick:()=>{setEmail(\"test1@gmail.com\");setPassword(\"123456\");},children:\"Get Guest User Credentials\"})]});};export default Login;","map":{"version":3,"names":["Button","FormControl","FormLabel","Input","InputGroup","InputRightElement","VStack","useState","axios","useToast","useHistory","ChatState","jsx","_jsx","jsxs","_jsxs","Login","show","setShow","handleClick","toast","email","setEmail","password","setPassword","loading","setLoading","history","setUser","submitHandler","title","status","duration","isClosable","position","config","headers","data","post","localStorage","setItem","JSON","stringify","push","error","description","response","message","spacing","children","id","isRequired","value","type","placeholder","onChange","e","target","size","width","h","onClick","colorScheme","style","marginTop","isLoading","variant"],"sources":["/Users/murarimirthipati/Desktop/Personal/MERN-CHAT-APP/frontend/src/components/Authentication/Login.js"],"sourcesContent":["import { Button } from \"@chakra-ui/button\";\nimport { FormControl, FormLabel } from \"@chakra-ui/form-control\";\nimport { Input, InputGroup, InputRightElement } from \"@chakra-ui/input\";\nimport { VStack } from \"@chakra-ui/layout\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { useToast } from \"@chakra-ui/react\";\nimport { useHistory } from \"react-router-dom\";\nimport { ChatState } from \"../../Context/ChatProvider\";\n\nconst Login = () => {\n  const [show, setShow] = useState(false);\n  const handleClick = () => setShow(!show);\n  const toast = useToast();\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n  const [loading, setLoading] = useState(false);\n\n  const history = useHistory();\n  const { setUser } = ChatState();\n\n  const submitHandler = async () => {\n    setLoading(true);\n    if (!email || !password) {\n      toast({\n        title: \"Please Fill all the Feilds\",\n        status: \"warning\",\n        duration: 5000,\n        isClosable: true,\n        position: \"bottom\",\n      });\n      setLoading(false);\n      return;\n    }\n\n    try {\n      const config = {\n        headers: {\n          \"Content-type\": \"application/json\",\n        },\n      };\n\n      const { data } = await axios.post(\n        \"/api/user/login\",\n        { email, password },\n        config\n      );\n\n      toast({\n        title: \"Login Successful\",\n        status: \"success\",\n        duration: 5000,\n        isClosable: true,\n        position: \"bottom\",\n      });\n      setUser(data);\n      localStorage.setItem(\"userInfo\", JSON.stringify(data));\n      setLoading(false);\n      history.push(\"/chats\");\n    } catch (error) {\n      toast({\n        title: \"Error Occured!\",\n        description: error.response.data.message,\n        status: \"error\",\n        duration: 5000,\n        isClosable: true,\n        position: \"bottom\",\n      });\n      setLoading(false);\n    }\n  };\n\n  return (\n    <VStack spacing=\"10px\">\n      <FormControl id=\"email\" isRequired>\n        <FormLabel>Email Address</FormLabel>\n        <Input\n          value={email}\n          type=\"email\"\n          placeholder=\"Enter Your Email Address\"\n          onChange={(e) => setEmail(e.target.value)}\n        />\n      </FormControl>\n      <FormControl id=\"password\" isRequired>\n        <FormLabel>Password</FormLabel>\n        <InputGroup size=\"md\">\n          <Input\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            type={show ? \"text\" : \"password\"}\n            placeholder=\"Enter password\"\n          />\n          <InputRightElement width=\"4.5rem\">\n            <Button h=\"1.75rem\" size=\"sm\" onClick={handleClick}>\n              {show ? \"Hide\" : \"Show\"}\n            </Button>\n          </InputRightElement>\n        </InputGroup>\n      </FormControl>\n      <Button\n        colorScheme=\"blue\"\n        width=\"100%\"\n        style={{ marginTop: 15 }}\n        onClick={submitHandler}\n        isLoading={loading}\n      >\n        Login\n      </Button>\n      <Button\n        variant=\"solid\"\n        colorScheme=\"red\"\n        width=\"100%\"\n        onClick={() => {\n          setEmail(\"test1@gmail.com\");\n          setPassword(\"123456\");\n        }}\n      >\n        Get Guest User Credentials\n      </Button>\n    </VStack>\n  );\n};\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}